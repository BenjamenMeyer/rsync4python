[tox]
envlist = py34_cython,pep8

[testenv] 
deps = cython
       -r{toxinidir}/tools/pip-requires
       -r{toxinidir}/tools/test-requires
basepython = python3.4
commands = {toxinidir}/tools/clean_cython.sh {toxinidir}/rsync4python
           nosetests {posargs}

[testenv:py34_cython]
deps = cython
       -r{toxinidir}/tools/pip-requires
       -r{toxinidir}/tools/test-requires
basepython = python3.4
commands = {toxinidir}/tools/clean_cython.sh {toxinidir}/rsync4python
           nosetests rsync4python.tests --cover-html --cover-branches {posargs}

[testenv:pep8]
deps = setuptools>=1.1.6
       pep8

#NOTE: E128 = Visual indent
commands = pep8 --exclude=.tox,dist,doc,env,.env,.venv,build --ignore=E128

